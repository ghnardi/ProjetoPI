<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar | Arttech</title>
    <link rel="stylesheet" href="cadastro.css">
</head>
<body>
    <div class="banner">
        <div class="containermarrom">
          <div class="logo">
            <img id="logo" src="./assets/imgs/logo.png" >
          </div>
            <span id="cadastrar">Cadastrar</span>
                <div class="containerInterno">
                    <span id="a">Nome:</span> 
                    <input id="input_nome"> 
                    <span id="b">E-mail:</span>
                    <input id="input_email" type="email"> 
                    <span id="c">Senha:</span>
                    <input id="input_senha" type="password">
                    <span id="d">Confirmar Senha:</span>
                    <input id="input_confirmarSenha" type="password">
                    <div class="erro">
                        <span id="span_erro">.</span>
                    </div>
                </div>
            <button id="cadastro" onclick="cadastrar()">Cadastrar</button>
        </div>

        <div class="containeramarelo"></div>
    </div>
</body>
</html>

<script>
input_nome.value = 'Fernando Brandão'
input_email.value = 'fernando.brandao@sptech.school'
input_senha.value = '@12345678'
input_confirmarSenha.value = '@12345678'
    function cadastrar() {
        var email = input_email.value;
        var senha = input_senha.value;
        var confirmarSenha = input_confirmarSenha.value
        var nome = input_nome.value;
        var spanErro = document.getElementById('span_erro');

        var indice_arroba = email.indexOf("@")
        var validacao_arroba = (indice_arroba >= 0);
        var validacao_fim_email = (email.endsWith("sptech.school") || email.endsWith(".com") || email.endsWith(".com.br"))
        var validacao_especial = (senha.startsWith("#") || senha.startsWith("+") 
        || senha.startsWith("-") || senha.startsWith("[") 
        || senha.startsWith("]") || senha.startsWith("*")
        || senha.startsWith("~") || senha.startsWith("_")
        || senha.startsWith("@") || senha.startsWith(":")
        || senha.startsWith("?"));

        var validacao_mesma_senha = (senha == confirmarSenha)
        var validacao_tamanho_senha = (senha.length >= 8);


        if (validacao_arroba && validacao_fim_email && validacao_especial && validacao_tamanho_senha && validacao_mesma_senha) {
            window.location.href = "../PáginaLogin/login.html"
        } else if (!validacao_arroba || !validacao_fim_email) {
            spanErro.innerHTML = `E-mail inválido!`
            spanErro.style.visibility = `visible`;
        } else if (!validacao_especial) {
            spanErro.innerHTML = `É necessário ter um caracter especial na senha!`
            spanErro.style.visibility = `visible`;
        } else if (!validacao_tamanho_senha){
            spanErro.innerHTML = `É necessário que a sua senha tenha no mínimo 8 caracteres.`
            spanErro.style.visibility = `visible`;
        } else if (!validacao_mesma_senha) {
            spanErro.innerHTML = `As senhas não coincidem!`
            spanErro.style.visibility = `visible`;
        }
    }
</script>